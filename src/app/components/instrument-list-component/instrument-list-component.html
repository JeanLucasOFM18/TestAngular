<div class="card">
  <div class="hidden lg:flex gap-4">
    <div class="w-1/2 overflow-x-auto">
      <p-table [value]="leftInstruments" [tableStyle]="{'min-width':'600px'}">
        <ng-template #header>
          <tr>
            <th>Nombre</th>
            <th pSortableColumn="lastPrice">Último <p-sortIcon field="lastPrice"></p-sortIcon></th>
            <th pSortableColumn="volumeMoney">Monto (MM) <p-sortIcon field="volumeMoney"></p-sortIcon></th>
            <th pSortableColumn="pctDay">Var Día <p-sortIcon field="pctDay"></p-sortIcon></th>
            <th pSortableColumn="pct30D">Var 30d <p-sortIcon field="pct30D"></p-sortIcon></th>
            <th pSortableColumn="pctCY">Año actual <p-sortIcon field="pctCY"></p-sortIcon></th>
            <th pSortableColumn="pct1Y">12 Meses <p-sortIcon field="pct1Y"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template #body let-instrument>
          <tr (click)="selectInstrument(instrument)"
              [ngClass]="{'bg-blue-100': appState.selectedInstrument() === instrument}">
            <td>{{ instrument.shortName }}</td>
            <td>{{ instrument.lastPrice | number:'1.2-2' }}</td>
            <td>{{ instrument.volumeMoney / 1_000_000 | number:'1.2-2' }}</td>
            <td [ngClass]="instrument.pctDay > 0 ? 'text-green-500' : (instrument.pctDay < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pctDay > 0 ? '+' : '' }}{{ instrument.pctDay | number:'1.2-2' }}%
            </td>
            <td [ngClass]="instrument.pct30D > 0 ? 'text-green-500' : (instrument.pct30D < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pct30D > 0 ? '+' : '' }}{{ instrument.pct30D | number:'1.2-2' }}%
            </td>
            <td [ngClass]="instrument.pctCY > 0 ? 'text-green-500' : (instrument.pctCY < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pctCY > 0 ? '+' : '' }}{{ instrument.pctCY | number:'1.2-2' }}%
            </td>
            <td [ngClass]="instrument.pct1Y > 0 ? 'text-green-500' : (instrument.pct1Y < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pct1Y > 0 ? '+' : '' }}{{ instrument.pct1Y | number:'1.2-2' }}%
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
    <div class="w-1/2 overflow-x-auto">
      <p-table [value]="rightInstruments" [tableStyle]="{'min-width':'600px'}">
        <ng-template #header>
          <tr>
            <th>Nombre</th>
            <th pSortableColumn="lastPrice">Último <p-sortIcon field="lastPrice"></p-sortIcon></th>
            <th pSortableColumn="volumeMoney">Monto (MM) <p-sortIcon field="volumeMoney"></p-sortIcon></th>
            <th pSortableColumn="pctDay">Var Día <p-sortIcon field="pctDay"></p-sortIcon></th>
            <th pSortableColumn="pct30D">Var 30d <p-sortIcon field="pct30D"></p-sortIcon></th>
            <th pSortableColumn="pctCY">Año actual <p-sortIcon field="pctCY"></p-sortIcon></th>
            <th pSortableColumn="pct1Y">12 Meses <p-sortIcon field="pct1Y"></p-sortIcon></th>
          </tr>
        </ng-template>
        <ng-template #body let-instrument>
          <tr (click)="selectInstrument(instrument)"
              [ngClass]="{'bg-blue-100': appState.selectedInstrument() === instrument}">
            <td>{{ instrument.shortName }}</td>
            <td>{{ instrument.lastPrice | number:'1.2-2' }}</td>
            <td>{{ instrument.volumeMoney / 1_000_000 | number:'1.2-2' }}</td>
            <td [ngClass]="instrument.pctDay > 0 ? 'text-green-500' : (instrument.pctDay < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pctDay > 0 ? '+' : '' }}{{ instrument.pctDay | number:'1.2-2' }}%
            </td>
            <td [ngClass]="instrument.pct30D > 0 ? 'text-green-500' : (instrument.pct30D < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pct30D > 0 ? '+' : '' }}{{ instrument.pct30D | number:'1.2-2' }}%
            </td>
            <td [ngClass]="instrument.pctCY > 0 ? 'text-green-500' : (instrument.pctCY < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pctCY > 0 ? '+' : '' }}{{ instrument.pctCY | number:'1.2-2' }}%
            </td>
            <td [ngClass]="instrument.pct1Y > 0 ? 'text-green-500' : (instrument.pct1Y < 0 ? 'text-red-500' : 'text-white')">
              {{ instrument.pct1Y > 0 ? '+' : '' }}{{ instrument.pct1Y | number:'1.2-2' }}%
            </td>
          </tr>
        </ng-template>
      </p-table>
    </div>
  </div>
  <div class="lg:hidden overflow-x-auto">
    <p-table [value]="instruments" [tableStyle]="{'min-width':'600px'}">
      <ng-template #header>
        <tr>
          <th>Nombre</th>
          <th pSortableColumn="lastPrice">Último* <p-sortIcon field="lastPrice"></p-sortIcon></th>
          <th pSortableColumn="volumeMoney">Monto (MM) <p-sortIcon field="volumeMoney"></p-sortIcon></th>
          <th pSortableColumn="pctDay">Var Día <p-sortIcon field="pctDay"></p-sortIcon></th>
          <th pSortableColumn="pct30D">Var 30d** <p-sortIcon field="pct30D"></p-sortIcon></th>
          <th pSortableColumn="pctCY">Año actual <p-sortIcon field="pctCY"></p-sortIcon></th>
          <th pSortableColumn="pct1Y">12 Meses <p-sortIcon field="pct1Y"></p-sortIcon></th>
        </tr>
      </ng-template>
      <ng-template #body let-instrument>
        <tr (click)="selectInstrument(instrument)"
            [ngClass]="{'bg-blue-100': appState.selectedInstrument() === instrument}">
          <td>{{ instrument.shortName }}</td>
          <td>{{ instrument.lastPrice | number:'1.2-2' }}</td>
          <td>{{ instrument.volumeMoney / 1_000_000 | number:'1.2-2' }}</td>
          <td [ngClass]="instrument.pctDay > 0 ? 'text-green-500' : (instrument.pctDay < 0 ? 'text-red-500' : 'text-white')">
            {{ instrument.pctDay > 0 ? '+' : '' }}{{ instrument.pctDay | number:'1.2-2' }}%
          </td>
          <td [ngClass]="instrument.pct30D > 0 ? 'text-green-500' : (instrument.pct30D < 0 ? 'text-red-500' : 'text-white')">
            {{ instrument.pct30D > 0 ? '+' : '' }}{{ instrument.pct30D | number:'1.2-2' }}%
          </td>
          <td [ngClass]="instrument.pctCY > 0 ? 'text-green-500' : (instrument.pctCY < 0 ? 'text-red-500' : 'text-white')">
            {{ instrument.pctCY > 0 ? '+' : '' }}{{ instrument.pctCY | number:'1.2-2' }}%
          </td>
          <td [ngClass]="instrument.pct1Y > 0 ? 'text-green-500' : (instrument.pct1Y < 0 ? 'text-red-500' : 'text-white')">
            {{ instrument.pct1Y > 0 ? '+' : '' }}{{ instrument.pct1Y | number:'1.2-2' }}%
          </td>
        </tr>
      </ng-template>
    </p-table>
  </div>
</div>
